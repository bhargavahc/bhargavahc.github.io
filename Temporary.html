<!DOCTYPE html>
<html>
    <head>
        <title>Programs</title>
    </head>
    <body>
        

            #include <stdio.h><br>
                #include<string.h><br>
                #include<stdlib.h><br>
                    <br>
                void firstset();<br>
                void followset();<br>
                void parsingtable();<br>
                void parseinput();<br>
                void err();<br>
                
                int i,count,j,k,n,l[10],temp;<br>
                char grm[10][20],fst[10][20],fol[10][20],stk[20],matched[20],inpt[20],inp[20];<br>
                
                void main()<br>
                {   printf("The given grammar is\n A->aBa\n B->bB|@ \n\n");<br>
                printf("Enter the number of rules\n");<br>
                scanf("%d",&n);<br>
                printf("Enter the grammar and please enter @ instead of Epsilon\n");<br>
                for(i=0;i<n;i++)<br>
                    scanf("%s",grm[i]);<br>
                    firstset();<br>
                    followset();<br>
                    parsingtable();<br>
                    parseinput();<br>
                }<br>
                <br>
                void firstset()<br>
                {
                    printf("\nThe First Set is \n");<br>
                    for(i=0;i<n;i++)<br>
                    {
                        printf("FIRST[%c]={",grm[i][0]);<br>
                        count=0;<br>
                        j=3;<br>
                        while(grm[i][j]!='\0')<br>
                        {<br>
                            if(!((grm[i][j]>64)&&(grm[i][j]<91)))<br>
                            {<br>
                                fst[i][count]=grm[i][j];<br>
                                printf("%c,",fst[i][count]);<br>
                                count=count+1;<br><br>
                            }
                            for(;grm[i][j]!='|'&&grm[i][j]!='\0';j++);
                            j=j+1;<br>
                        }<br>
                        printf("\b}\n");<br>
                    }<br>
                }<br>
                
                void followset()<br>
                {<br>
                    printf("\nThe Follow set is\n");<br>
                    for(k=0;k<n;k++)<br>
                    {<br>
                        count=0;<br>
                        printf("FOLLOW[%c]={",grm[k][0]);<br>
                        if(k==0)<br>
                        {<br>
                            printf("$,");<br>
                            fol[k][count]='$';<br>
                            count=count+1;<br>
                        }<br>
                        for(i=0;i<n;i++)<br>
                        {<br>
                            for(j=3;grm[i][j]!='\0';j++)<br>
                            {<br>
                                if((grm[i][j]==grm[k][0])&&(grm[i][j+1]!='\0'&&grm[i][j+1]!='|'))<br>
                                {<br>
                                    if(!((grm[i][j+1]>64)&&(grm[i][j+1]<91)))<br>
                                    {<br>
                                    fol[k][count]=grm[i][j+1];<br>
                                        printf("%c,",fol[k][count]);<br>
                                        count=count+1;<br>
                                    }<br>
                                }<br>
                            }	<br>
                        }<br>
                        printf("\b}\n");<br>
                    }<br>
                }
                <br>
                void parsingtable()<br>
                {<br>
                printf("\nThe Parsing Table is\n");<br>
                    char p[10]="A->aBa",q[10]="B->bB",r[10]="B->@",tble[2][4];<br>
                    tble[0][0]='A';<br>
                    tble[1][0]='B';<br>
                    int j,k;<br>
                    for(i=0;i<n;i++)<br>
                    {<br>
                        j=0;<br>
                        while(fst[i][j]!='\0')<br>
                        {<br>
                            if(fst[i][j]=='a')<br>
                                tble[i][1]='p';<br>
                            else if(fst[i][j]=='b')<br>
                                tble[i][2]='q';<br>
                            else if(fst[i][j]=='@')<br>
                            {<br>
                                k=0;<br>
                                for(k=0;fol[i][k]!='\0';k++)<br>
                                {<br>
                                    if(fol[i][k]=='a')<br>
                                        tble[i][1]='r';<br>
                                }<br>
                            }<br>
                            j++;<br>
                        }<br>
                    }<br>
                    printf("\ta\tb\t$\t\n");<br>
                    for(i=0;i<2;i++)<br>
                    {<br>
                        for(j=0;j<4;j++)<br>
                        {<br>
                            if(tble[i][j]!='p'&&tble[i][j]!='q'&&tble[i][j]!='r'&&tble[i][j]!='A'&&tble[i][j]!='B')<br>
                                tble[i][j]=' ';<br>
                            if(tble[i][j]=='p')<br>
                                printf("%s\t",p);<br>
                            else if(tble[i][j]=='q')<br>
                                printf("%s\t",q);<br>
                            else if(tble[i][j]=='r')<br>
                                printf("%s\t",r);<br>
                            else<br>
                                printf("%c\t",tble[i][j]);<br>
                            
                
                        }<br>
                        printf("\n");<br>
                    }<br>
                }<br>
                <br>
                void parseinput()<br>
                {<br>
                printf("\nEnter the input string\n");<br>
                    scanf("%s",&inp);<br>
                    strcpy(inpt,inp);<br>
                    strcat(inpt,"$");<br>
                    printf("matched\t\tstack\t\tinput\t\taction\n");<br>
                    strcpy(stk,"A$");<br>
                    i=0;<br>
                    j=0;<br>
                    k=0;	<br>
                    while(matched!=inp)<br>
                    {<br>
                    if(stk[i]==inpt[j])<br>
                        {<br>
                    if(stk[i]=='$')<br>
                            {<br>
                    printf("%s\t\t%s\t\t%s\t\t accepted\n",matched,stk,inpt);<br>
                    break;<br>
                            }<br>
                    temp=stk[i];<br>
                    printf("%s\t\t%s\t\t%s\t\t pop %c\n",matched,stk,inpt,temp);<br>
                    
                    stk[i]=inpt[j]=' ';<br>
                            i=i+1;<br>
                            j=j+1;<br>
                    matched[k]=temp;<br>
                            k=k+1;<br>
                        }<br>
                        else if(stk[i]=='A'&&inpt[j]=='a')<br>
                        {<br>
                            i=0;<br>
                            
                            printf("%s\t\t%s\t\t%s\t\t A->aBa\n",matched,stk,inpt);<br>
                            strcpy(stk,"aBa$");<br>
                        }
                        else if(stk[i]=='B')<br>
                        {<br>
                            i=0;<br>
                            if(inpt[j]=='b')<br>
                            {
                                
                                printf("%s\t\t%s\t\t%s\t\t B->bB\n",matched,stk,inpt);<br>
                                strcpy(stk,"bBa$");<br>
                            }<br>
                            else if(inpt[j]=='a')<br>
                            {<br>
                                
                                printf("%s\t\t%s\t\t%s\t\t B->@\n",matched,stk,inpt);<br>
                                strcpy(stk,"a$");<br>
                            }<br>
                        }<br>
                        else if(stk[i]='$'&&inpt[j]=='$')<br>
                            break;<br>
                        else<br>
                            err();<br>
                    }<br>
                }<br>
                void err()<br>
                {<br>
                printf("%s\t\t%s\t\t%s\t\t error\n",matched,stk,inpt);<br>
                exit(0);<br>
           

            
            </body>
</html>